"use strict";function addWebP(t){var s=new Image;s.onload=s.onerror=function(){t(2==s.height)},s.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}addWebP((function(t){1==t&&document.querySelector("body").classList.add("webp")}));document.querySelectorAll(".burg").forEach((function(t){t.addEventListener("click",(t=>{const s=t.target;s.classList.toggle("open"),s.nextElementSibling.classList.toggle("show")}))}));class Slider{constructor(t,s=1,i=!0,e){this.slidesWrapper=document.querySelector(`${t}`),this.slidesField=this.slidesWrapper.querySelector(".slider__slides"),this.slides=this.slidesWrapper.querySelectorAll(".slider__slide"),this.prevBtn=void 0,this.nextBtn=void 0,this.total=void 0,this.current=void 0,this.sliderName=void 0,this.sliderNames=void 0,this.countOfSlidesDefault=s,this.countOfSlides=s,this.width=window.getComputedStyle(this.slidesWrapper).width,this.slideMinWidth=e,this.slideIndex=1,this.offset=0,this.loop=i,this.breakPoints=void 0}onRes(){if(this.width.slice(0,this.width.length-2)<this.slideMinWidth&&(this.slidesField.style.marginLeft=(this.width.slice(0,this.width.length-2)-this.slideMinWidth)/2.5+"px"),this.breakPoints){const t=Object.keys(this.breakPoints),s=t[t.length-1];let i=t.length-1;const e=s=>{window.innerWidth<s?(this.countOfSlides=this.breakPoints[t[i]],i-1>-1&&(i--,e(t[i]))):window.innerWidth>s&&(i++,this.countOfSlides=i>t.length-1?this.countOfSlidesDefault:this.breakPoints[t[i]])};e(s),this.width=window.getComputedStyle(this.slidesWrapper).width,this.slides.forEach((t=>{+this.width.slice(0,this.width.length-2)/this.countOfSlides>this.slideMinWidth&&(t.style.width=+this.width.slice(0,this.width.length-2)/this.countOfSlides+"px")})),this.sizeOfSlide=100/this.countOfSlides,this.slidesField.style.width=100+(this.slides.length-this.countOfSlides)*this.sizeOfSlide+"%",this.slidesField.style.transform="translateX(0%)",this.slideIndex=1,this.loop||(this.nextBtn.disabled=!1,this.prevBtn.disabled=!0)}else this.width=window.getComputedStyle(this.slidesWrapper).width,this.slides.forEach((t=>{+this.width.slice(0,this.width.length-2)/this.countOfSlides>this.slideMinWidth&&(t.style.width=+this.width.slice(0,this.width.length-2)/this.countOfSlides+"px")})),this.sizeOfSlide=100/this.countOfSlides,this.slidesField.style.width=100+(this.slides.length-this.countOfSlides)*this.sizeOfSlide+"%"}init(){this.slideMinWidth&&(this.slidesField.style.minWidth=this.slideMinWidth*this.slides.length+"px",this.slides.forEach((t=>{t.style.minWidth=this.minWidth+"px"}))),this.total&&(this.slides.length<10?this.total.textContent=`0${this.slides.length}`:this.total.textContent=this.slides.length),this.fixed?this.slidesField.style.width=this.fixed*this.slides.length+"px":(this.width=window.getComputedStyle(this.slidesWrapper).width,this.slides.forEach((t=>{t.style.width=+this.width.slice(0,this.width.length-2)/this.countOfSlides+"px"})),this.sizeOfSlide=100/this.countOfSlides,this.slidesField.style.width=100+(this.slides.length-this.countOfSlides)*this.sizeOfSlide+"%"),this.slides.forEach((t=>{+this.width.slice(0,this.width.length-2)/this.countOfSlides>this.slideMinWidth?t.style.width=+this.width.slice(0,this.width.length-2)/this.countOfSlides+"px":(t.style.width=this.slideMinWidth/this.countOfSlides+"px",this.slidesField.style.marginLeft=(this.width.slice(0,this.width.length-2)-this.slideMinWidth)/2.5+"px")})),this.slidesField.style.display="flex",this.slidesField.style.transition="0.5s all",this.slidesWrapper.style.overflow="hidden"}initButtons(t,s){this.prevBtn=this.slidesWrapper.querySelector(`${t}`),this.nextBtn=this.slidesWrapper.querySelector(`${s}`),this.loop?(this.prevBtn.addEventListener("click",(()=>{1==this.slideIndex?(this.slideIndex=this.slides.length-(this.countOfSlides-1),this.offset=(100/this.slides.length*(this.slideIndex-1)).toFixed(3)):(this.slideIndex--,this.offset=(100/this.slides.length*(this.slideIndex-1)).toFixed(3)),this.slidesField.style.transform=`translateX(-${this.offset}%)`,this.sliderName&&(this.sliderName.textContent=this.sliderNames[this.slideIndex-1]),this.current&&(this.slides.length<10?this.current.textContent=`0${this.slideIndex}`:this.current.textContent=this.slideIndex)})),this.nextBtn.addEventListener("click",(()=>{this.slideIndex==this.slides.length-(this.countOfSlides-1)?(this.offset=0,this.slideIndex=1):(this.offset=(100/this.slides.length*this.slideIndex).toFixed(3),this.slideIndex++),this.slidesField.style.transform=`translateX(-${this.offset}%)`,this.sliderName&&(this.sliderName.textContent=this.sliderNames[this.slideIndex-1]),this.current&&(this.slides.length<10?this.current.textContent=`0${this.slideIndex}`:this.current.textContent=this.slideIndex)}))):(this.prevBtn.addEventListener("click",(()=>{1!=this.slideIndex&&(this.slideIndex--,this.offset=(100/this.slides.length*(this.slideIndex-1)).toFixed(3),this.nextBtn.disabled=!1),1==this.slideIndex?this.prevBtn.disabled=!0:this.prevBtn.disabled=!1,this.slidesField.style.transform=`translateX(-${this.offset}%)`,this.sliderName&&(this.sliderName.textContent=this.sliderNames[this.slideIndex-1]),this.current&&(this.slides.length<10?this.current.textContent=`0${this.slideIndex}`:this.current.textContent=this.slideIndex)})),this.nextBtn.addEventListener("click",(()=>{this.offset=(100/this.slides.length*this.slideIndex).toFixed(3),this.slideIndex++,this.prevBtn.disabled=!1,this.slideIndex==this.slides.length-(this.countOfSlides-1)&&(this.nextBtn.disabled=!0),this.slidesField.style.transform=`translateX(-${this.offset}%)`,this.sliderName&&(this.sliderName.textContent=this.sliderNames[this.slideIndex-1]),this.current&&(this.slides.length<10?this.current.textContent=`0${this.slideIndex}`:this.current.textContent=this.slideIndex)})))}initNav(){const t=document.createElement("ul");t.classList.add("slider__nav");let s=[];for(let i=0;this.slides.length/this.countOfSlides>i;i++){const e=document.createElement("li");e.classList.add("slider__nav-li"),s.push(e),e.setAttribute("data-slidenumber",i+1),this.countOfSlides>1?e.addEventListener("click",(t=>{this.slideIndex=t.target.getAttribute("data-slidenumber"),s.forEach((t=>t.classList.remove("current"))),e.classList.add("current"),this.offset=(100/(this.slides.length-this.countOfSlides)*(this.slideIndex-1)).toFixed(3),this.slidesField.style.transform=`translateX(-${this.offset}%)`})):e.addEventListener("click",(t=>{this.slideIndex=t.target.getAttribute("data-slidenumber"),s.forEach((t=>t.classList.remove("current"))),e.classList.add("current"),this.offset=(100/this.slides.length*(this.slideIndex-1)).toFixed(3),this.slidesField.style.transform=`translateX(-${this.offset}%)`})),t.append(e)}s[0].classList.add("current"),this.slidesWrapper.parentNode.append(t),this.slidesWrapper.parentNode.style.position="relative",console.log(this.slidesWrapper.parentNode)}initText(t,s,i,e){this.sliderName=this.slidesWrapper.querySelector(`${t}`),this.sliderNames=s}initCounter(t,s){this.total=s?this.slidesWrapper.querySelector(`${s}`):void 0,this.current=t?this.slidesWrapper.querySelector(`${t}`):void 0,this.total&&(this.slides.length<10?this.total.textContent=`0${this.slides.length}`:this.total.textContent=this.slides.length)}initBreakPoints(t){this.breakPoints=t,this.onRes()}}const slider1=new Slider(".header__slider",1,!0,768);slider1.init(),slider1.initNav();const sliderComments=new Slider(".about__slider",3,!0);sliderComments.init(),sliderComments.initNav(),sliderComments.initBreakPoints({768:2}),window.onresize=function(){slider1.onRes(),sliderComments.onRes()};